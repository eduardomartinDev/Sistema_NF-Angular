# ğŸ“Š Sistema NF - GestÃ£o Completa de Notas Fiscais# ğŸ“Š Sistema NF - GestÃ£o Completa de Notas Fiscais# ğŸ“Š Sistema NF - GestÃ£o Completa de Notas Fiscais# ğŸ“Š Sistema NF - GestÃ£o Completa de Notas Fiscais# ğŸ“Š Sistema NF - GestÃ£o Completa de Notas Fiscais



**Sistema empresarial com arquitetura de microsserviÃ§os**  

**GestÃ£o de produtos, estoque e notas fiscais em tempo real**

**Sistema empresarial com arquitetura de microsserviÃ§os**  

![Status](https://img.shields.io/badge/status-produÃ§Ã£o-success?style=for-the-badge)

![Angular](https://img.shields.io/badge/Angular-19.2-DD0031?style=for-the-badge&logo=angular)**GestÃ£o de produtos, estoque e notas fiscais em tempo real**

![Go](https://img.shields.io/badge/Go-1.23-00ADD8?style=for-the-badge&logo=go)

![MariaDB](https://img.shields.io/badge/MariaDB-11.5-003545?style=for-the-badge&logo=mariadb)<div align="center">

![TypeScript](https://img.shields.io/badge/TypeScript-5.x-3178C6?style=for-the-badge&logo=typescript)

![Status](https://img.shields.io/badge/status-produÃ§Ã£o-success?style=for-the-badge)

---

![Angular](https://img.shields.io/badge/Angular-19.2-DD0031?style=for-the-badge&logo=angular)

## ğŸ¯ VisÃ£o Geral

![Go](https://img.shields.io/badge/Go-1.23-00ADD8?style=for-the-badge&logo=go)

Sistema completo desenvolvido com **arquitetura de microsserviÃ§os** para gerenciar produtos, controlar estoque em tempo real e emitir notas fiscais. Utiliza tecnologias modernas com backend em Go, frontend em Angular e banco de dados MariaDB.

![MariaDB](https://img.shields.io/badge/MariaDB-11.5-003545?style=for-the-badge&logo=mariadb)**Sistema empresarial com arquitetura de microsserviÃ§os**  <div align="center"><div align="center">

---

![TypeScript](https://img.shields.io/badge/TypeScript-5.x-3178C6?style=for-the-badge&logo=typescript)

## âœ¨ Funcionalidades Principais

**GestÃ£o de produtos, estoque e notas fiscais em tempo real**

**ğŸ“¦ GestÃ£o de Produtos**

- âœ… Cadastro completo - CRUD de produtos---

- âœ… Upload de imagens - Base64 (mÃ¡x. 2MB)

- âœ… Busca inteligente - Filtro com debounce

- âœ… VisualizaÃ§Ã£o flexÃ­vel - Cards ou tabela

## ğŸ¯ VisÃ£o Geral

**ğŸ“‹ Notas Fiscais**

- âœ… EmissÃ£o completa - MÃºltiplos itens<br>

- âœ… Status dinÃ¢mico - ABERTA / FECHADA

- âœ… AtualizaÃ§Ã£o automÃ¡tica - Estoque em tempo realSistema completo desenvolvido com **arquitetura de microsserviÃ§os** para gerenciar produtos, controlar estoque em tempo real e emitir notas fiscais. Utiliza tecnologias modernas com backend em Go, frontend em Angular e banco de dados MariaDB.

- âœ… Formato profissional - VisualizaÃ§Ã£o para impressÃ£o

**Sistema empresarial com arquitetura de microsserviÃ§os para gestÃ£o de produtos, estoque e notas fiscais****Sistema empresarial com arquitetura de microsserviÃ§os para gestÃ£o de produtos, estoque e notas fiscais**

**ğŸ›¡ï¸ Sistema Resiliente**

- âœ… Circuit Breaker - ProteÃ§Ã£o contra falhas---

- âœ… Retry automÃ¡tico - Backoff exponencial

- âœ… Controle de concorrÃªncia - SELECT FOR UPDATE![Status](https://img.shields.io/badge/status-produÃ§Ã£o-success?style=for-the-badge)

- âœ… Cache inteligente - 66% menos requisiÃ§Ãµes

## âœ¨ Funcionalidades Principais

**ğŸ¤– Assistente IA**

- âœ… Chat inteligente - Hugging Face API![Angular](https://img.shields.io/badge/Angular-19.2-DD0031?style=for-the-badge&logo=angular)

- âœ… AnÃ¡lise de dados - Insights de vendas

- âœ… Processamento natural - NLP avanÃ§ado### ğŸ“¦ GestÃ£o de Produtos



---- âœ… **Cadastro completo** - CRUD de produtos![Go](https://img.shields.io/badge/Go-1.23-00ADD8?style=for-the-badge&logo=go)



## ğŸ—ï¸ Arquitetura do Sistema- âœ… **Upload de imagens** - Base64 (mÃ¡x. 2MB)



```- âœ… **Busca inteligente** - Filtro com debounce![MariaDB](https://img.shields.io/badge/MariaDB-11.5-003545?style=for-the-badge&logo=mariadb)![Status](https://img.shields.io/badge/status-produÃ§Ã£o-success?style=for-the-badge)![Status](https://img.shields.io/badge/status-produÃ§Ã£o-success?style=for-the-badge)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚                    FRONTEND (Angular)                        â”‚- âœ… **VisualizaÃ§Ã£o flexÃ­vel** - Cards ou tabela

â”‚         â€¢ Componentes Standalone                            â”‚

â”‚         â€¢ RxJS para reatividade                             â”‚![TypeScript](https://img.shields.io/badge/TypeScript-5.x-3178C6?style=for-the-badge&logo=typescript)

â”‚         â€¢ Angular Material Design                           â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜### ğŸ“‹ Notas Fiscais

                     â”‚ HTTP REST API

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”- âœ… **EmissÃ£o completa** - MÃºltiplos itens![Angular](https://img.shields.io/badge/Angular-19.2-DD0031?style=for-the-badge&logo=angular)![Angular](https://img.shields.io/badge/Angular-19.2-DD0031?style=for-the-badge&logo=angular)

     â–¼               â–¼               â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”- âœ… **Status dinÃ¢mico** - ABERTA / FECHADA

â”‚   ESTOQUE      â”‚ â”‚  FATURAMENTO   â”‚ â”‚      IA        â”‚

â”‚  Porta: 3001   â”‚ â”‚  Porta: 3002   â”‚ â”‚  Hugging Face  â”‚- âœ… **AtualizaÃ§Ã£o automÃ¡tica** - Estoque em tempo real</div>

â”‚ â€¢ CRUD Produtosâ”‚ â”‚ â€¢ Notas Fiscaisâ”‚ â”‚ â€¢ Chat         â”‚

â”‚ â€¢ Controle     â”‚ â”‚ â€¢ Circuit Br.  â”‚ â”‚ â€¢ Analytics    â”‚- âœ… **Formato profissional** - VisualizaÃ§Ã£o para impressÃ£o

â”‚   Saldo        â”‚ â”‚ â€¢ ValidaÃ§Ãµes   â”‚ â”‚                â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜![Go](https://img.shields.io/badge/Go-1.23-00ADD8?style=for-the-badge&logo=go)![Go](https://img.shields.io/badge/Go-1.23-00ADD8?style=for-the-badge&logo=go)

         â”‚                 â”‚

         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜### ğŸ›¡ï¸ Sistema Resiliente

                  â–¼

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”- âœ… **Circuit Breaker** - ProteÃ§Ã£o contra falhas<br>

         â”‚   MariaDB 11.5   â”‚

         â”‚ â€¢ produtos       â”‚- âœ… **Retry automÃ¡tico** - Backoff exponencial

         â”‚ â€¢ notasfiscais   â”‚

         â”‚ â€¢ itens          â”‚- âœ… **Controle de concorrÃªncia** - SELECT FOR UPDATE![MariaDB](https://img.shields.io/badge/MariaDB-11.5-003545?style=for-the-badge&logo=mariadb)![MariaDB](https://img.shields.io/badge/MariaDB-11.5-003545?style=for-the-badge&logo=mariadb)

         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```- âœ… **Cache inteligente** - 66% menos requisiÃ§Ãµes



---## ğŸ¯ VisÃ£o Geral



## ğŸ”§ Stack TecnolÃ³gica### ğŸ¤– Assistente IA



| Camada | Tecnologias |- âœ… **Chat inteligente** - Hugging Face API![TypeScript](https://img.shields.io/badge/TypeScript-5.x-3178C6?style=for-the-badge&logo=typescript)![TypeScript](https://img.shields.io/badge/TypeScript-5.x-3178C6?style=for-the-badge&logo=typescript)

|:------:|-------------|

| **Frontend** | Angular 19.2 (Standalone) Â· TypeScript 5.7 Â· RxJS 7.8 Â· Angular Material 19.2 Â· NGX-Toastr Â· Date-fns Â· NGX-Mask |- âœ… **AnÃ¡lise de dados** - Insights de vendas

| **Backend** | Go 1.23 Â· Gin Framework Â· Zap Logger Â· Viper Â· Air (hot reload) |

| **Banco de Dados** | MariaDB 11.5.2 Â· InnoDB Engine Â· TransaÃ§Ãµes ACID |- âœ… **Processamento natural** - NLP avanÃ§adoSistema completo desenvolvido com **arquitetura de microsserviÃ§os** para gerenciar produtos, controlar estoque em tempo real e emitir notas fiscais. Utiliza tecnologias modernas com backend em Go, frontend em Angular e banco de dados MariaDB.



---



## ğŸš€ InÃ­cio RÃ¡pido---



**PrÃ©-requisitos**

- Node.js 20+ e npm

- Go 1.23+## ğŸ—ï¸ Arquitetura do Sistema<br>

- MariaDB 11.5+

- Git



**InstalaÃ§Ã£o**```</div></div>



```bashâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

# 1. Clone o repositÃ³rio

git clone https://github.com/eduardomartinDev/Korp_Teste_EduardoMartin.gitâ”‚                    FRONTEND (Angular)                        â”‚## âœ¨ Funcionalidades Principais

cd Korp_Teste_EduardoMartin

â”‚         â€¢ Componentes Standalone                            â”‚

# 2. Configure o banco de dados

mysql -u root -p < database.sqlâ”‚         â€¢ RxJS para reatividade                             â”‚



# 3. Inicie o serviÃ§o de Estoque (Terminal 1)â”‚         â€¢ Angular Material Design                           â”‚

cd backend/estoque

air  # ou: go run main.goâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<table>



# 4. Inicie o serviÃ§o de Faturamento (Terminal 2)                     â”‚ HTTP REST API

cd backend/faturamento

air  # ou: go run main.go     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<tr>---## ğŸ¯ VisÃ£o Geral



# 5. Inicie o Frontend (Terminal 3)     â–¼               â–¼               â–¼

cd frontend

npm installâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<td width="50%">

npm start

```â”‚   ESTOQUE      â”‚ â”‚  FATURAMENTO   â”‚ â”‚      IA        â”‚



**Acesse:** http://localhost:4200â”‚  Porta: 3001   â”‚ â”‚  Porta: 3002   â”‚ â”‚  Hugging Face  â”‚



---â”‚ â€¢ CRUD Produtosâ”‚ â”‚ â€¢ Notas Fiscaisâ”‚ â”‚ â€¢ Chat         â”‚



## ğŸ“ Estrutura do Projetoâ”‚ â€¢ Controle     â”‚ â”‚ â€¢ Circuit Br.  â”‚ â”‚ â€¢ Analytics    â”‚### ğŸ“¦ GestÃ£o de Produtos



```â”‚   Saldo        â”‚ â”‚ â€¢ ValidaÃ§Ãµes   â”‚ â”‚                â”‚

Korp_Teste_EduardoMartin/

â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜âœ… **Cadastro completo** - CRUD de produtos  ## ğŸ¯ VisÃ£o GeralSistema completo desenvolvido com **arquitetura de microsserviÃ§os** para gerenciar produtos, controlar estoque em tempo real e emitir notas fiscais. Utiliza tecnologias modernas com backend em Go, frontend em Angular e banco de dados MariaDB.

â”œâ”€â”€ frontend/                    # AplicaÃ§Ã£o Angular

â”‚   â”œâ”€â”€ src/app/         â”‚                 â”‚

â”‚   â”‚   â”œâ”€â”€ components/         # Componentes standalone

â”‚   â”‚   â”œâ”€â”€ services/           # ServiÃ§os HTTP         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜âœ… **Upload de imagens** - Base64 (mÃ¡x. 2MB)  

â”‚   â”‚   â””â”€â”€ models/             # Interfaces TypeScript

â”‚   â””â”€â”€ package.json                  â–¼

â”‚

â”œâ”€â”€ backend/         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âœ… **Busca inteligente** - Filtro com debounce  

â”‚   â”œâ”€â”€ estoque/                # MicrosserviÃ§o de Estoque

â”‚   â”‚   â”œâ”€â”€ main.go         â”‚   MariaDB 11.5   â”‚

â”‚   â”‚   â”œâ”€â”€ config.yaml

â”‚   â”‚   â””â”€â”€ .air.toml         â”‚ â€¢ produtos       â”‚âœ… **VisualizaÃ§Ã£o flexÃ­vel** - Cards ou tabela  

â”‚   â”‚

â”‚   â””â”€â”€ faturamento/            # MicrosserviÃ§o de Faturamento         â”‚ â€¢ notasfiscais   â”‚

â”‚       â”œâ”€â”€ main.go

â”‚       â”œâ”€â”€ config.yaml         â”‚ â€¢ itens          â”‚Sistema completo desenvolvido com **arquitetura de microsserviÃ§os** para gerenciar produtos, controlar estoque em tempo real e emitir notas fiscais. Utiliza tecnologias modernas com backend em Go, frontend em Angular e banco de dados MariaDB.---

â”‚       â””â”€â”€ .air.toml

â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”œâ”€â”€ database.sql                # Schema do banco

â””â”€â”€ README.md```### ğŸ“‹ Notas Fiscais

```



---

---âœ… **EmissÃ£o completa** - MÃºltiplos itens  

## ğŸ”’ SeguranÃ§a e Boas PrÃ¡ticas



- âœ… ValidaÃ§Ã£o de dados em frontend e backend

- âœ… TransaÃ§Ãµes ACID para consistÃªncia## ğŸ”§ Stack TecnolÃ³gicaâœ… **Status dinÃ¢mico** - ABERTA / FECHADA  

- âœ… Locks pessimistas para controle de concorrÃªncia

- âœ… CORS configurado corretamente

- âœ… Logs estruturados com Zap

- âœ… ConfiguraÃ§Ãµes externalizadas| Camada | Tecnologias |âœ… **AtualizaÃ§Ã£o automÃ¡tica** - Estoque em tempo real  ---## âœ¨ Funcionalidades Principais



---|:------:|-------------|



## ğŸ“Š Performance| **Frontend** | Angular 19.2 (Standalone) Â· TypeScript 5.7 Â· RxJS 7.8 Â· Angular Material 19.2 Â· NGX-Toastr Â· Date-fns Â· NGX-Mask |âœ… **Formato profissional** - VisualizaÃ§Ã£o para impressÃ£o  



| OtimizaÃ§Ã£o | Resultado || **Backend** | Go 1.23 Â· Gin Framework Â· Zap Logger Â· Viper Â· Air (hot reload) |

|:-----------|----------:|

| Cache com shareReplay | ğŸš€ **-66%** requisiÃ§Ãµes HTTP || **Banco de Dados** | MariaDB 11.5.2 Â· InnoDB Engine Â· TransaÃ§Ãµes ACID |

| Debounce na busca | ğŸš€ **-87%** operaÃ§Ãµes de filtro |

| Retry automÃ¡tico | âœ… ResiliÃªncia a falhas |

| Circuit Breaker | âœ… ProteÃ§Ã£o do sistema |

---</td>

---



## ğŸ§ª Testes do Sistema

## ğŸš€ InÃ­cio RÃ¡pido<td width="50%">## âœ¨ Funcionalidades Principais### ğŸ“¦ GestÃ£o de Produtos

**âš¡ Testar ConcorrÃªncia**

1. Crie produto com saldo `1`

2. Tente finalizar `2 notas` simultaneamente

3. âœ… Resultado: Uma nota sucede, outra falha por saldo insuficiente### PrÃ©-requisitos



**ğŸ”Œ Testar Circuit Breaker**- Node.js 20+ e npm

1. Desligue serviÃ§o de estoque

2. Tente operaÃ§Ãµes â†’ Circuit Breaker abre apÃ³s 3 falhas- Go 1.23+### ğŸ›¡ï¸ Sistema Resiliente- âœ… **Cadastro completo**: Criar, editar, visualizar e remover produtos

3. Ligue serviÃ§o e reset via endpoint

- MariaDB 11.5+

**ğŸ’¾ Testar Cache**

1. Acesse lista de produtos (1 requisiÃ§Ã£o)- Gitâœ… **Circuit Breaker** - ProteÃ§Ã£o contra falhas  

2. Navegue e volte (0 requisiÃ§Ãµes - cache ativo)

3. Crie produto (cache invalidado automaticamente)



---### InstalaÃ§Ã£oâœ… **Retry automÃ¡tico** - Backoff exponencial  ### ğŸ“¦ GestÃ£o de Produtos- âœ… **Upload de imagens**: Suporte a Base64 com validaÃ§Ã£o (mÃ¡x. 2MB)



## ğŸ› ï¸ Comandos Ãšteis



```bash```bashâœ… **Controle de concorrÃªncia** - SELECT FOR UPDATE  

# Desenvolvimento Frontend

npm start              # Servidor dev (porta 4200)# 1. Clone o repositÃ³rio

npm run build          # Build produÃ§Ã£o

git clone https://github.com/eduardomartinDev/Korp_Teste_EduardoMartin.gitâœ… **Cache inteligente** - 66% menos requisiÃ§Ãµes  - âœ… **Cadastro completo**: Criar, editar, visualizar e remover produtos- âœ… **Busca inteligente**: Filtro em tempo real com debounce

# Desenvolvimento Backend

air                    # Hot reloadcd Korp_Teste_EduardoMartin

go run main.go         # ExecuÃ§Ã£o direta



# Banco de Dados

mysql -u root -p notafiscal_desafio# 2. Configure o banco de dados

```

mysql -u root -p < database.sql### ğŸ¤– Assistente IA- âœ… **Upload de imagens**: Suporte a Base64 com validaÃ§Ã£o (mÃ¡x. 2MB)- âœ… **VisualizaÃ§Ã£o flexÃ­vel**: Cards ou tabela conforme preferÃªncia

---



## ğŸ› Troubleshooting

# 3. Inicie o serviÃ§o de Estoque (Terminal 1)âœ… **Chat inteligente** - Hugging Face API  

| Problema | SoluÃ§Ã£o |

|----------|---------|cd backend/estoque

| Frontend nÃ£o conecta | Verifique serviÃ§os nas portas `3001` e `3002` |

| Erro de saldo insuficiente | Confirme saldo disponÃ­vel no banco |air  # ou: go run main.goâœ… **AnÃ¡lise de dados** - Insights de vendas  - âœ… **Busca inteligente**: Filtro em tempo real com debounce

| Circuit Breaker aberto | POST em `/circuit-breaker/reset` |

| Air nÃ£o funciona | Use `go run main.go` como alternativa |



---# 4. Inicie o serviÃ§o de Faturamento (Terminal 2)âœ… **Processamento natural** - NLP avanÃ§ado  



## ğŸ“š DocumentaÃ§Ã£ocd backend/faturamento



- ğŸ“– [COMO-INICIAR.md](COMO-INICIAR.md) - Guia completo de instalaÃ§Ã£oair  # ou: go run main.go- âœ… **VisualizaÃ§Ã£o flexÃ­vel**: Cards ou tabela conforme preferÃªncia### ğŸ“‹ Notas Fiscais

- ğŸ”§ [DETALHAMENTO-TECNICO.md](DETALHAMENTO-TECNICO.md) - DocumentaÃ§Ã£o tÃ©cnica detalhada



---

# 5. Inicie o Frontend (Terminal 3)</td>

**Desenvolvido com â˜• e ğŸ’ª**

cd frontend

Sistema completo e pronto para produÃ§Ã£o

npm install</tr>- âœ… **EmissÃ£o completa**: Criar notas com mÃºltiplos itens

*Ãšltima atualizaÃ§Ã£o: Novembro 2025*

npm start

```</table>



**ğŸŒ Acesse:** http://localhost:4200### ğŸ“‹ Notas Fiscais- âœ… **Status dinÃ¢mico**: ABERTA (editÃ¡vel) / FECHADA (finalizada)



---<br>



## ğŸ“ Estrutura do Projeto- âœ… **EmissÃ£o completa**: Criar notas com mÃºltiplos itens- âœ… **AtualizaÃ§Ã£o automÃ¡tica**: Estoque atualizado em tempo real



```## ğŸ—ï¸ Arquitetura do Sistema

Korp_Teste_EduardoMartin/

â”‚- âœ… **Status dinÃ¢mico**: ABERTA (editÃ¡vel) / FECHADA (finalizada)- âœ… **Formato profissional**: VisualizaÃ§Ã£o para impressÃ£o

â”œâ”€â”€ frontend/                    # AplicaÃ§Ã£o Angular

â”‚   â”œâ”€â”€ src/app/```

â”‚   â”‚   â”œâ”€â”€ components/         # Componentes standalone

â”‚   â”‚   â”œâ”€â”€ services/           # ServiÃ§os HTTPâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”- âœ… **AtualizaÃ§Ã£o automÃ¡tica**: Estoque atualizado em tempo real

â”‚   â”‚   â””â”€â”€ models/             # Interfaces TypeScript

â”‚   â””â”€â”€ package.jsonâ”‚                    FRONTEND (Angular)                        â”‚

â”‚

â”œâ”€â”€ backend/â”‚         â€¢ Componentes Standalone                            â”‚- âœ… **Formato profissional**: VisualizaÃ§Ã£o para impressÃ£o### ğŸ›¡ï¸ Sistema Resiliente

â”‚   â”œâ”€â”€ estoque/                # MicrosserviÃ§o de Estoque

â”‚   â”‚   â”œâ”€â”€ main.goâ”‚         â€¢ RxJS para reatividade                             â”‚

â”‚   â”‚   â”œâ”€â”€ config.yaml

â”‚   â”‚   â””â”€â”€ .air.tomlâ”‚         â€¢ Angular Material Design                           â”‚- âœ… **Circuit Breaker**: ProteÃ§Ã£o contra falhas em cascata

â”‚   â”‚

â”‚   â””â”€â”€ faturamento/            # MicrosserviÃ§o de Faturamentoâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”‚       â”œâ”€â”€ main.go

â”‚       â”œâ”€â”€ config.yaml                     â”‚ HTTP REST API### ğŸ›¡ï¸ Sistema Resiliente- âœ… **Retry automÃ¡tico**: Tentativas com backoff exponencial

â”‚       â””â”€â”€ .air.toml

â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”œâ”€â”€ database.sql                # Schema do banco

â””â”€â”€ README.md     â–¼               â–¼               â–¼- âœ… **Circuit Breaker**: ProteÃ§Ã£o contra falhas em cascata- âœ… **Controle de concorrÃªncia**: SELECT FOR UPDATE para transaÃ§Ãµes seguras

```

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

---

â”‚   ESTOQUE      â”‚ â”‚  FATURAMENTO   â”‚ â”‚      IA        â”‚- âœ… **Retry automÃ¡tico**: Tentativas com backoff exponencial- âœ… **Cache inteligente**: ReduÃ§Ã£o de 66% nas requisiÃ§Ãµes HTTP

## ğŸ”’ SeguranÃ§a e Boas PrÃ¡ticas

â”‚  Porta: 3001   â”‚ â”‚  Porta: 3002   â”‚ â”‚  Hugging Face  â”‚

- âœ… ValidaÃ§Ã£o de dados em frontend e backend

- âœ… TransaÃ§Ãµes ACID para consistÃªnciaâ”‚ â€¢ CRUD Produtosâ”‚ â”‚ â€¢ Notas Fiscaisâ”‚ â”‚ â€¢ Chat         â”‚- âœ… **Controle de concorrÃªncia**: SELECT FOR UPDATE para transaÃ§Ãµes seguras

- âœ… Locks pessimistas para controle de concorrÃªncia

- âœ… CORS configurado corretamenteâ”‚ â€¢ Controle     â”‚ â”‚ â€¢ Circuit Br.  â”‚ â”‚ â€¢ Analytics    â”‚

- âœ… Logs estruturados com Zap

- âœ… ConfiguraÃ§Ãµes externalizadasâ”‚   Saldo        â”‚ â”‚ â€¢ ValidaÃ§Ãµes   â”‚ â”‚                â”‚- âœ… **Cache inteligente**: ReduÃ§Ã£o de 66% nas requisiÃ§Ãµes HTTP### ğŸ¤– Assistente IA



---â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜



## ğŸ“Š Performance         â”‚                 â”‚- âœ… **Chat inteligente**: IntegraÃ§Ã£o com Hugging Face



| OtimizaÃ§Ã£o | Resultado |         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

|:-----------|----------:|

| Cache com shareReplay | ğŸš€ **-66%** requisiÃ§Ãµes HTTP |                  â–¼### ğŸ¤– Assistente IA- âœ… **AnÃ¡lise de dados**: Insights sobre vendas e estoque

| Debounce na busca | ğŸš€ **-87%** operaÃ§Ãµes de filtro |

| Retry automÃ¡tico | âœ… ResiliÃªncia a falhas |         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

| Circuit Breaker | âœ… ProteÃ§Ã£o do sistema |

         â”‚   MariaDB 11.5   â”‚- âœ… **Chat inteligente**: IntegraÃ§Ã£o com Hugging Face- âœ… **Processamento natural**: CompreensÃ£o de linguagem natural

---

         â”‚ â€¢ produtos       â”‚

## ğŸ§ª Testes do Sistema

         â”‚ â€¢ notasfiscais   â”‚- âœ… **AnÃ¡lise de dados**: Insights sobre vendas e estoque

### âš¡ Testar ConcorrÃªncia

1. Crie produto com saldo `1`         â”‚ â€¢ itens          â”‚

2. Tente finalizar `2 notas` simultaneamente

3. âœ… **Resultado:** Uma nota sucede, outra falha por saldo insuficiente         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜- âœ… **Processamento natural**: CompreensÃ£o de linguagem natural---



### ğŸ”Œ Testar Circuit Breaker```

1. Desligue serviÃ§o de estoque

2. Tente operaÃ§Ãµes â†’ Circuit Breaker abre apÃ³s 3 falhas

3. Ligue serviÃ§o e reset via endpoint

<br>

### ğŸ’¾ Testar Cache

1. Acesse lista de produtos (1 requisiÃ§Ã£o)---## ğŸ—ï¸ Arquitetura do Sistema

2. Navegue e volte (0 requisiÃ§Ãµes - cache ativo)

3. Crie produto (cache invalidado automaticamente)## ğŸ”§ Stack TecnolÃ³gica



---â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”



## ğŸ› ï¸ Comandos Ãšteis| Camada | Tecnologias |



```bash|:------:|-------------|## ğŸ—ï¸ Arquitetura do Sistemaâ”‚ FRONTEND (Angular) â”‚

# Desenvolvimento Frontend

npm start              # Servidor dev (porta 4200)| **Frontend** | Angular 19.2 (Standalone) Â· TypeScript 5.7 Â· RxJS 7.8 Â· Angular Material 19.2 Â· NGX-Toastr Â· Date-fns Â· NGX-Mask |

npm run build          # Build produÃ§Ã£o

| **Backend** | Go 1.23 Â· Gin Framework Â· Zap Logger Â· Viper Â· Air (hot reload) |â”‚ - Componentes Standalone â”‚

# Desenvolvimento Backend

air                    # Hot reload| **Banco de Dados** | MariaDB 11.5.2 Â· InnoDB Engine Â· TransaÃ§Ãµes ACID |

go run main.go         # ExecuÃ§Ã£o direta

```â”‚ - RxJS para reatividade â”‚

# Banco de Dados

mysql -u root -p notafiscal_desafio<br>

```

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ - Angular Material Design â”‚

---

## ğŸš€ InÃ­cio RÃ¡pido

## ğŸ› Troubleshooting

â”‚                    FRONTEND (Angular)                        â”‚â”‚ - NGX-Toastr, Date-fns, NGX-Mask â”‚

| Problema | SoluÃ§Ã£o |

|----------|---------|### PrÃ©-requisitos

| Frontend nÃ£o conecta | Verifique serviÃ§os nas portas `3001` e `3002` |

| Erro de saldo insuficiente | Confirme saldo disponÃ­vel no banco |- Node.js 20+ e npmâ”‚         - Componentes Standalone                            â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

| Circuit Breaker aberto | POST em `/circuit-breaker/reset` |

| Air nÃ£o funciona | Use `go run main.go` como alternativa |- Go 1.23+



---- MariaDB 11.5+â”‚         - RxJS para reatividade                             â”‚â”‚ HTTP REST API



## ğŸ“š DocumentaÃ§Ã£o- Git



- ğŸ“– **[COMO-INICIAR.md](COMO-INICIAR.md)** - Guia completo de instalaÃ§Ã£oâ”‚         - Angular Material Design                           â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

- ğŸ”§ **[DETALHAMENTO-TECNICO.md](DETALHAMENTO-TECNICO.md)** - DocumentaÃ§Ã£o tÃ©cnica detalhada

### InstalaÃ§Ã£o

---

â”‚         - NGX-Toastr, Date-fns, NGX-Mask                   â”‚â–¼ â–¼ â–¼

**Desenvolvido com â˜• e ğŸ’ª**

```bash

Sistema completo e pronto para produÃ§Ã£o

# 1. Clone o repositÃ³rioâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

*Ãšltima atualizaÃ§Ã£o: Novembro 2025*

git clone https://github.com/eduardomartinDev/Korp_Teste_EduardoMartin.git

cd Korp_Teste_EduardoMartin                     â”‚ HTTP REST APIâ”‚SERVIÃ‡O ESTOQUEâ”‚ â”‚SER. FATURAMENTOâ”‚ â”‚ ASSISTENTE â”‚



# 2. Configure o banco de dados     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ Porta: 3001 â”‚ â”‚ Porta: 3002 â”‚ â”‚ IA â”‚

mysql -u root -p < database.sql

     â–¼               â–¼               â–¼â”‚ - CRUD Produtosâ”‚ â”‚ - Notas Fiscaisâ”‚ â”‚ - Hugging Face â”‚

# 3. Inicie o serviÃ§o de Estoque (Terminal 1)

cd backend/estoqueâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ - Controle Saldoâ”‚ â”‚ - Circuit Br. â”‚ â”‚ - Analytics â”‚

air  # ou: go run main.go

â”‚SERVIÃ‡O ESTOQUE â”‚ â”‚SER. FATURAMENTOâ”‚ â”‚  ASSISTENTE    â”‚â”‚ - SELECT UPDATE â”‚ â”‚ - ValidaÃ§Ãµes â”‚ â”‚ - Chat â”‚

# 4. Inicie o serviÃ§o de Faturamento (Terminal 2)

cd backend/faturamentoâ”‚  Porta: 3001   â”‚ â”‚  Porta: 3002   â”‚ â”‚      IA        â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

air  # ou: go run main.go

â”‚ - CRUD Produtosâ”‚ â”‚ - Notas Fiscaisâ”‚ â”‚ - Hugging Face â”‚â”‚ â”‚

# 5. Inicie o Frontend (Terminal 3)

cd frontendâ”‚ - Controle Saldoâ”‚ â”‚ - Circuit Br. â”‚ â”‚ - Analytics    â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

npm install

npm startâ”‚ - SELECT UPDATE â”‚ â”‚ - ValidaÃ§Ãµes   â”‚ â”‚ - Chat         â”‚â–¼

```

â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

**ğŸŒ Acesse:** http://localhost:4200

         â”‚                 â”‚â”‚ MariaDB 11.5 â”‚

<br>

         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ notafiscal_desafioâ”‚

## ğŸ“ Estrutura do Projeto

                  â–¼â”‚ - produtos â”‚

```

Korp_Teste_EduardoMartin/         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ - notasfiscais â”‚

â”‚

â”œâ”€â”€ frontend/                    # AplicaÃ§Ã£o Angular         â”‚   MariaDB 11.5   â”‚â”‚ - itens â”‚

â”‚   â”œâ”€â”€ src/app/

â”‚   â”‚   â”œâ”€â”€ components/         # Componentes standalone         â”‚notafiscal_desafioâ”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”‚   â”‚   â”œâ”€â”€ services/           # ServiÃ§os HTTP

â”‚   â”‚   â””â”€â”€ models/             # Interfaces TypeScript         â”‚   - produtos     â”‚

â”‚   â””â”€â”€ package.json

â”‚         â”‚   - notasfiscais â”‚text

â”œâ”€â”€ backend/

â”‚   â”œâ”€â”€ estoque/                # MicrosserviÃ§o de Estoque         â”‚   - itens        â”‚

â”‚   â”‚   â”œâ”€â”€ main.go

â”‚   â”‚   â”œâ”€â”€ config.yaml         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜### ğŸ”§ Stack TecnolÃ³gica

â”‚   â”‚   â””â”€â”€ .air.toml

â”‚   â”‚```

â”‚   â””â”€â”€ faturamento/            # MicrosserviÃ§o de Faturamento

â”‚       â”œâ”€â”€ main.go**Frontend:**

â”‚       â”œâ”€â”€ config.yaml

â”‚       â””â”€â”€ .air.toml### ğŸ”§ Stack TecnolÃ³gica- Angular 19.2 (Standalone Components)

â”‚

â”œâ”€â”€ database.sql                # Schema do banco- TypeScript 5.7 + RxJS 7.8

â””â”€â”€ README.md

```| Camada | Tecnologias |- Angular Material 19.2



<br>|--------|-------------|- NGX-Toastr, Date-fns, NGX-Mask



## ğŸ”’ SeguranÃ§a e Boas PrÃ¡ticas| **Frontend** | Angular 19.2 (Standalone), TypeScript 5.7, RxJS 7.8, Angular Material 19.2, NGX-Toastr, Date-fns, NGX-Mask |



- âœ… ValidaÃ§Ã£o de dados em frontend e backend| **Backend** | Go 1.23, Gin Framework, Zap Logger, Viper, Air (hot reload) |**Backend:**

- âœ… TransaÃ§Ãµes ACID para consistÃªncia

- âœ… Locks pessimistas para controle de concorrÃªncia| **Banco de Dados** | MariaDB 11.5.2, InnoDB Engine, TransaÃ§Ãµes ACID |- Go 1.23 + Gin Framework

- âœ… CORS configurado corretamente

- âœ… Logs estruturados com Zap- Zap Logger (logs estruturados)

- âœ… ConfiguraÃ§Ãµes externalizadas

---- Viper (configuraÃ§Ãµes)

<br>

- Air (hot reload)

## ğŸ“Š Performance

## ğŸš€ InÃ­cio RÃ¡pido

| OtimizaÃ§Ã£o | Resultado |

|:-----------|----------:|**Banco de Dados:**

| Cache com shareReplay | ğŸš€ **-66%** requisiÃ§Ãµes HTTP |

| Debounce na busca | ğŸš€ **-87%** operaÃ§Ãµes de filtro |### PrÃ©-requisitos- MariaDB 11.5.2

| Retry automÃ¡tico | âœ… ResiliÃªncia a falhas |

| Circuit Breaker | âœ… ProteÃ§Ã£o do sistema |- Node.js 20+ e npm- InnoDB Engine



<br>- Go 1.23+- TransaÃ§Ãµes ACID



## ğŸ§ª Testes do Sistema- MariaDB 11.5+



### âš¡ Testar ConcorrÃªncia- Git---

1. Crie produto com saldo `1`

2. Tente finalizar `2 notas` simultaneamente

3. âœ… **Resultado:** Uma nota sucede, outra falha por saldo insuficiente

### InstalaÃ§Ã£o e ExecuÃ§Ã£o## ğŸš€ InÃ­cio RÃ¡pido

### ğŸ”Œ Testar Circuit Breaker

1. Desligue serviÃ§o de estoque

2. Tente operaÃ§Ãµes â†’ Circuit Breaker abre apÃ³s 3 falhas

3. Ligue serviÃ§o e reset via endpoint```bash### PrÃ©-requisitos



### ğŸ’¾ Testar Cache# 1. Clone o repositÃ³rio- Node.js 20+ e npm

1. Acesse lista de produtos (1 requisiÃ§Ã£o)

2. Navegue e volte (0 requisiÃ§Ãµes - cache ativo)git clone https://github.com/eduardomartinDev/Korp_Teste_EduardoMartin.git- Go 1.23+

3. Crie produto (cache invalidado automaticamente)

cd Korp_Teste_EduardoMartin- MariaDB 11.5+

<br>

- Git

## ğŸ› ï¸ Comandos Ãšteis

# 2. Configure o banco de dados

```bash

# Desenvolvimento Frontendmysql -u root -p < database.sql### InstalaÃ§Ã£o e ExecuÃ§Ã£o

npm start              # Servidor dev (porta 4200)

npm run build          # Build produÃ§Ã£o



# Desenvolvimento Backend# 3. Inicie o serviÃ§o de Estoque```bash

air                    # Hot reload

go run main.go         # ExecuÃ§Ã£o diretacd backend/estoque# 1. Clone o repositÃ³rio



# Banco de Dadosair  # ou: go run main.gogit clone <url-do-repositorio>

mysql -u root -p notafiscal_desafio

```cd Korp_Teste_EduardoMartin



<br># 4. Em novo terminal, inicie o serviÃ§o de Faturamento



## ğŸ› Troubleshootingcd backend/faturamento# 2. Configure o banco de dados



| Problema | SoluÃ§Ã£o |air  # ou: go run main.gomysql -u root -p < database.sql

|----------|---------|

| Frontend nÃ£o conecta | Verifique serviÃ§os nas portas `3001` e `3002` |

| Erro de saldo insuficiente | Confirme saldo disponÃ­vel no banco |

| Circuit Breaker aberto | POST em `/circuit-breaker/reset` |# 5. Em novo terminal, inicie o Frontend# 3. Inicie o serviÃ§o de Estoque

| Air nÃ£o funciona | Use `go run main.go` como alternativa |

cd frontendcd servico-estoque-go

<br>

npm installair  # ou: go run main.go

## ğŸ“š DocumentaÃ§Ã£o

npm start

- ğŸ“– **[COMO-INICIAR.md](COMO-INICIAR.md)** - Guia completo de instalaÃ§Ã£o

- ğŸ”§ **[DETALHAMENTO-TECNICO.md](DETALHAMENTO-TECNICO.md)** - DocumentaÃ§Ã£o tÃ©cnica detalhada```# 4. Em novo terminal, inicie o serviÃ§o de Faturamento



<br>cd servico-faturamento-go



---**Acesse:** http://localhost:4200air  # ou: go run main.go



<div align="center">



**Desenvolvido com â˜• e ğŸ’ª**---# 5. Em novo terminal, inicie o Frontend



Sistema completo e pronto para produÃ§Ã£ocd frontend



<br>## ğŸ“ Estrutura do Projetonpm install



*Ãšltima atualizaÃ§Ã£o: Novembro 2025*npm start



</div>```Acesse: http://localhost:4200


Korp_Teste_EduardoMartin/

â”‚ğŸ“ Estrutura do Projeto

â”œâ”€â”€ frontend/                    # AplicaÃ§Ã£o Angulartext

â”‚   â”œâ”€â”€ src/app/PROJETO KORP/

â”‚   â”‚   â”œâ”€â”€ components/         # Componentes standaloneâ”‚

â”‚   â”‚   â”‚   â”œâ”€â”€ home/â”œâ”€â”€ frontend/                    # AplicaÃ§Ã£o Angular

â”‚   â”‚   â”‚   â”œâ”€â”€ produtos/â”‚   â”œâ”€â”€ src/app/

â”‚   â”‚   â”‚   â””â”€â”€ notas/â”‚   â”‚   â”œâ”€â”€ components/         # Componentes standalone

â”‚   â”‚   â”œâ”€â”€ services/           # ServiÃ§os HTTPâ”‚   â”‚   â”‚   â”œâ”€â”€ home/

â”‚   â”‚   â””â”€â”€ models/             # Interfaces TypeScriptâ”‚   â”‚   â”‚   â”œâ”€â”€ produtos/

â”‚   â””â”€â”€ package.jsonâ”‚   â”‚   â”‚   â””â”€â”€ notas/

â”‚â”‚   â”‚   â”œâ”€â”€ services/           # ServiÃ§os HTTP

â”œâ”€â”€ backend/â”‚   â”‚   â””â”€â”€ models/             # Interfaces TypeScript

â”‚   â”œâ”€â”€ estoque/                # MicrosserviÃ§o de Estoqueâ”‚   â””â”€â”€ package.json

â”‚   â”‚   â”œâ”€â”€ main.goâ”‚

â”‚   â”‚   â”œâ”€â”€ config.yamlâ”œâ”€â”€ servico-estoque-go/         # MicrosserviÃ§o de Estoque

â”‚   â”‚   â””â”€â”€ .air.tomlâ”‚   â”œâ”€â”€ main.go

â”‚   â”‚â”‚   â”œâ”€â”€ config.yaml

â”‚   â””â”€â”€ faturamento/            # MicrosserviÃ§o de Faturamentoâ”‚   â””â”€â”€ .air.toml

â”‚       â”œâ”€â”€ main.goâ”‚

â”‚       â”œâ”€â”€ config.yamlâ”œâ”€â”€ servico-faturamento-go/     # MicrosserviÃ§o de Faturamento

â”‚       â””â”€â”€ .air.tomlâ”‚   â”œâ”€â”€ main.go

â”‚â”‚   â”œâ”€â”€ config.yaml

â”œâ”€â”€ database.sql                # Schema do bancoâ”‚   â””â”€â”€ .air.toml

â”œâ”€â”€ README.mdâ”‚

â”œâ”€â”€ COMO-INICIAR.md             # Guia detalhadoâ”œâ”€â”€ database.sql                # Schema do banco

â””â”€â”€ DETALHAMENTO-TECNICO.md     # DocumentaÃ§Ã£o tÃ©cnicaâ”œâ”€â”€ README.md

```â”œâ”€â”€ COMO-INICIAR.md             # Guia detalhado

â””â”€â”€ DETALHAMENTO-TECNICO.md     # DocumentaÃ§Ã£o tÃ©cnica

---ğŸ”’ SeguranÃ§a e Boas PrÃ¡ticas

âœ… ValidaÃ§Ã£o de dados em frontend e backend

## ğŸ”’ SeguranÃ§a e Boas PrÃ¡ticas

âœ… TransaÃ§Ãµes ACID para consistÃªncia

- âœ… ValidaÃ§Ã£o de dados em frontend e backend

- âœ… TransaÃ§Ãµes ACID para consistÃªnciaâœ… Locks pessimistas para controle de concorrÃªncia

- âœ… Locks pessimistas para controle de concorrÃªncia

- âœ… CORS configurado corretamenteâœ… CORS configurado corretamente

- âœ… Logs estruturados com Zap

- âœ… ConfiguraÃ§Ãµes externalizadasâœ… Logs estruturados com Zap



---âœ… ConfiguraÃ§Ãµes externalizadas



## ğŸ“Š PerformanceğŸ“Š Performance

OtimizaÃ§Ãµes implementadas:

**OtimizaÃ§Ãµes implementadas:**

ğŸš€ Cache com shareReplay: 66% menos requisiÃ§Ãµes HTTP

| Recurso | Melhoria |

|---------|----------|ğŸš€ Debounce na busca: 87% menos operaÃ§Ãµes de filtro

| Cache com shareReplay | 66% menos requisiÃ§Ãµes HTTP |

| Debounce na busca | 87% menos operaÃ§Ãµes de filtro |ğŸš€ Retry automÃ¡tico: Maior resiliÃªncia a falhas

| Retry automÃ¡tico | Maior resiliÃªncia a falhas |

| Circuit Breaker | ProteÃ§Ã£o do sistema |ğŸš€ Circuit Breaker: ProteÃ§Ã£o do sistema



---ğŸ§ª Testes do Sistema

Testar ConcorrÃªncia

## ğŸ§ª Testes do SistemaCrie produto com saldo 1



### Testar ConcorrÃªnciaTente finalizar 2 notas simultaneamente

1. Crie produto com saldo 1

2. Tente finalizar 2 notas simultaneamenteResultado: Uma nota sucede, outra falha por saldo insuficiente

3. **Resultado:** Uma nota sucede, outra falha por saldo insuficiente

Testar Circuit Breaker

### Testar Circuit BreakerDesligue serviÃ§o de estoque

1. Desligue serviÃ§o de estoque

2. Tente operaÃ§Ãµes â†’ Circuit Breaker abre apÃ³s 3 falhasTente operaÃ§Ãµes â†’ Circuit Breaker abre apÃ³s 3 falhas

3. Ligue serviÃ§o e reset via endpoint

Ligue serviÃ§o e reset via endpoint

### Testar Cache

1. Acesse lista de produtos (1 requisiÃ§Ã£o)Testar Cache

2. Navegue e volte (0 requisiÃ§Ãµes - cache ativo)Acesse lista de produtos (1 requisiÃ§Ã£o)

3. Crie produto (cache invalidado automaticamente)

Navegue e volte (0 requisiÃ§Ãµes - cache ativo)

---

Crie produto (cache invalidado automaticamente)

## ğŸ› ï¸ Comandos Ãšteis

ğŸ› ï¸ Comandos Ãšteis

```bashbash

# Desenvolvimento Frontend# Desenvolvimento Frontend

npm start              # Servidor dev (porta 4200)npm start              # Servidor dev (porta 4200)

npm run build          # Build produÃ§Ã£onpm run build          # Build produÃ§Ã£o



# Desenvolvimento Backend# Desenvolvimento Backend

air                    # Hot reloadair                    # Hot reload

go run main.go         # ExecuÃ§Ã£o diretago run main.go         # ExecuÃ§Ã£o direta



# Banco de Dados# Banco de Dados

mysql -u root -p notafiscal_desafiomysql -u root -p notafiscal_desafio

```ğŸ› Troubleshooting

Problema comum	SoluÃ§Ã£o

---Frontend nÃ£o conecta	Verifique serviÃ§os nas portas 3001/3002

Erro de saldo insuficiente	Confirme saldo disponÃ­vel no banco

## ğŸ› TroubleshootingCircuit Breaker aberto	POST em /circuit-breaker/reset

Air nÃ£o funciona	Use go run main.go como alternativa

| Problema | SoluÃ§Ã£o |ğŸ“š DocumentaÃ§Ã£o

|----------|---------|

| Frontend nÃ£o conecta | Verifique serviÃ§os nas portas 3001/3002 |<div align="center">

| Erro de saldo insuficiente | Confirme saldo disponÃ­vel no banco |Desenvolvido com â˜• e ğŸ’ª

| Circuit Breaker aberto | POST em `/circuit-breaker/reset` |Sistema completo e pronto para produÃ§Ã£o

| Air nÃ£o funciona | Use `go run main.go` como alternativa |

</div>

---Ãšltima atualizaÃ§Ã£o: Novembro 2025

</div>
